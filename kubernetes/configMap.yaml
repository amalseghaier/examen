apiVersion: v1
kind: ConfigMap
metadata:
  name: mysql-configmap
  namespace: examen
data:
  examen.sql: |
    -- phpMyAdmin SQL Dump
    -- version 5.2.1
    -- https://www.phpmyadmin.net/
    --
    -- Hôte : 127.0.0.1
    -- Généré le : mer. 22 mai 2024 à 12:39
    -- Version du serveur : 8.0.36
    -- Version de PHP : 8.0.30

    SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
    START TRANSACTION;
    SET time_zone = "+00:00";

    --
    -- Base de données : `examen`
    --

    -- --------------------------------------------------------

    --
    -- Structure de la table `classes`
    --

    CREATE TABLE `classes` (
      `id` int NOT NULL,
      `nom` varchar(255) NOT NULL,
      `departementId` int NOT NULL,
      `createdAt` datetime NOT NULL,
      `updatedAt` datetime NOT NULL,
      `niveau` varchar(50) DEFAULT NULL
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

    --
    -- Déchargement des données de la table `classes`
    --

    INSERT INTO `classes` (`id`, `nom`, `departementId`, `createdAt`, `updatedAt`, `niveau`) VALUES
    (2, 'devops', 2, '2024-04-20 10:18:57', '2024-04-20 10:18:57', 'premier année'),
    (23, 'ti13', 2, '2024-05-10 16:34:55', '2024-05-10 16:34:55', 'premiére année'),
    (24, 'ti11', 2, '2024-05-10 16:35:11', '2024-05-10 16:35:11', 'premiére année'),
    (25, 'ti12', 2, '2024-05-10 16:35:27', '2024-05-10 16:35:27', 'premiére année'),
    (26, 'rsi', 2, '2024-05-10 16:35:52', '2024-05-10 16:35:52', 'deuxieme annee'),
    (27, 'mdw', 2, '2024-05-10 16:36:04', '2024-05-10 16:36:04', 'deuxieme annee'),
    (28, ' devops', 2, '2024-05-10 16:47:51', '2024-05-10 16:47:51', 'deuxieme annee master');

    -- --------------------------------------------------------

    --
    -- Structure de la table `departements`
    --

    CREATE TABLE `departements` (
      `id` int NOT NULL,
      `nom` varchar(255) NOT NULL,
      `createdAt` datetime NOT NULL,
      `updatedAt` datetime NOT NULL
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

    --
    -- Déchargement des données de la table `departements`
    --

    INSERT INTO `departements` (`id`, `nom`, `createdAt`, `updatedAt`) VALUES
    (2, 'Département informatique', '2024-04-20 08:42:49', '2024-04-20 08:42:49'),
    (6, 'Département  genie civil', '2024-05-10 16:29:46', '2024-05-10 16:29:46'),
    (7, 'Département  mecanique', '2024-05-10 16:33:47', '2024-05-10 16:33:47');

    -- --------------------------------------------------------

    --
    -- Structure de la table `examens`
    --

    CREATE TABLE `examens` (
      `id` int NOT NULL,
      `titre` varchar(255) NOT NULL,
      `date_debut` datetime NOT NULL,
      `date_fin` datetime NOT NULL,
      `type_examen` enum('synthese','controle') NOT NULL,
      `duree` int NOT NULL,
      `id_classe` int NOT NULL,
      `createdAt` datetime NOT NULL,
      `updatedAt` datetime NOT NULL
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

    --
    -- Déchargement des données de la table `examens`
    --

    INSERT INTO `examens` (`id`, `titre`, `date_debut`, `date_fin`, `type_examen`, `duree`, `id_classe`, `createdAt`, `updatedAt`) VALUES
    (27, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 23, '2024-05-17 22:35:09', '2024-05-17 22:35:09'),
    (28, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 23, '2024-05-17 22:52:11', '2024-05-17 22:52:11'),
    (29, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 23, '2024-05-17 22:56:36', '2024-05-17 22:56:36'),
    (30, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 22:58:24', '2024-05-17 22:58:24'),
    (31, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 22:58:26', '2024-05-17 22:58:26'),
    (32, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:00:34', '2024-05-17 23:00:34'),
    (33, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:01:43', '2024-05-17 23:01:43'),
    (34, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:13:43', '2024-05-17 23:13:43'),
    (35, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:18:31', '2024-05-17 23:18:31'),
    (36, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:24:58', '2024-05-17 23:24:58'),
    (37, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-17 23:24:58', '2024-05-17 23:24:58'),
    (38, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-17 23:32:32', '2024-05-17 23:32:32'),
    (39, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-17 23:32:32', '2024-05-17 23:32:32'),
    (40, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 00:12:03', '2024-05-18 00:12:03'),
    (41, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 00:12:03', '2024-05-18 00:12:03'),
    (42, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 00:32:45', '2024-05-18 00:32:45'),
    (43, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 00:32:45', '2024-05-18 00:32:45'),
    (44, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 00:37:42', '2024-05-18 00:37:42'),
    (45, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 00:37:42', '2024-05-18 00:37:42'),
    (46, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 11:42:11', '2024-05-18 11:42:11'),
    (47, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 11:42:11', '2024-05-18 11:42:11'),
    (48, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 12:31:52', '2024-05-18 12:31:52'),
    (49, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 12:31:52', '2024-05-18 12:31:52'),
    (50, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 13:38:04', '2024-05-18 13:38:04'),
    (51, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 13:38:04', '2024-05-18 13:38:04'),
    (52, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-18 13:40:05', '2024-05-18 13:40:05'),
    (53, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-18 13:40:05', '2024-05-18 13:40:05'),
    (54, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 10:09:41', '2024-05-19 10:09:41'),
    (55, 'Examen de fin d\'année', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 10:09:41', '2024-05-19 10:09:41'),
    (56, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:00:00', 'synthese', 90, 28, '2024-05-19 10:32:40', '2024-05-19 10:32:40'),
    (57, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-19 10:32:41', '2024-05-19 10:32:41'),
    (58, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:00:00', 'synthese', 60, 2, '2024-05-19 10:32:41', '2024-05-19 10:32:41'),
    (59, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:00:00', 'synthese', 90, 28, '2024-05-19 10:32:58', '2024-05-19 10:32:58'),
    (60, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-19 10:32:58', '2024-05-19 10:32:58'),
    (61, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:00:00', 'synthese', 60, 2, '2024-05-19 10:32:58', '2024-05-19 10:32:58'),
    (62, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 12:48:03', '2024-05-19 12:48:03'),
    (63, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 12:48:03', '2024-05-19 12:48:03'),
    (64, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 12:49:58', '2024-05-19 12:49:58'),
    (65, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 12:49:58', '2024-05-19 12:49:58'),
    (66, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 13:33:01', '2024-05-19 13:33:01'),
    (67, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 13:33:01', '2024-05-19 13:33:01'),
    (68, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 13:33:04', '2024-05-19 13:33:04'),
    (69, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 13:33:04', '2024-05-19 13:33:04'),
    (70, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 26, '2024-05-19 16:42:24', '2024-05-19 16:42:24'),
    (71, 'Examen ', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 27, '2024-05-19 16:42:24', '2024-05-19 16:42:24'),
    (72, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 26, '2024-05-20 15:32:07', '2024-05-20 15:32:07'),
    (73, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 27, '2024-05-20 15:32:07', '2024-05-20 15:32:07'),
    (74, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 15:32:07', '2024-05-20 15:32:07'),
    (75, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 15:32:07', '2024-05-20 15:32:07'),
    (77, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 26, '2024-05-20 15:54:25', '2024-05-20 15:54:25'),
    (78, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 27, '2024-05-20 15:54:25', '2024-05-20 15:54:25'),
    (79, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 15:54:26', '2024-05-20 15:54:26'),
    (80, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 15:54:26', '2024-05-20 15:54:26'),
    (82, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 26, '2024-05-20 16:07:14', '2024-05-20 16:07:14'),
    (83, 'Test examen', '2024-06-02 08:00:00', '2024-06-02 09:30:00', 'synthese', 90, 27, '2024-05-20 16:07:14', '2024-05-20 16:07:14'),
    (84, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:07:14', '2024-05-20 16:07:14'),
    (85, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:07:14', '2024-05-20 16:07:14'),
    (87, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 16:09:39', '2024-05-20 16:09:39'),
    (88, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 16:09:39', '2024-05-20 16:09:39'),
    (89, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:09:39', '2024-05-20 16:09:39'),
    (90, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:09:39', '2024-05-20 16:09:39'),
    (92, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 16:13:52', '2024-05-20 16:13:52'),
    (93, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 16:13:52', '2024-05-20 16:13:52'),
    (94, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:13:53', '2024-05-20 16:13:53'),
    (95, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 16:13:53', '2024-05-20 16:13:53'),
    (97, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 18:05:38', '2024-05-20 18:05:38'),
    (98, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 18:05:38', '2024-05-20 18:05:38'),
    (99, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 18:05:38', '2024-05-20 18:05:38'),
    (100, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 18:05:38', '2024-05-20 18:05:38'),
    (102, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 18:06:36', '2024-05-20 18:06:36'),
    (103, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 18:06:36', '2024-05-20 18:06:36'),
    (104, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 18:06:36', '2024-05-20 18:06:36'),
    (105, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 18:06:36', '2024-05-20 18:06:36'),
    (107, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 20:11:44', '2024-05-20 20:11:44'),
    (108, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 20:11:44', '2024-05-20 20:11:44'),
    (109, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 20:11:44', '2024-05-20 20:11:44'),
    (110, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 20:11:44', '2024-05-20 20:11:44'),
    (112, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-20 20:26:34', '2024-05-20 20:26:34'),
    (113, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-20 20:26:34', '2024-05-20 20:26:34'),
    (114, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 20:26:34', '2024-05-20 20:26:34'),
    (115, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-20 20:26:34', '2024-05-20 20:26:34'),
    (117, 'Examen de Synthèse', '2024-06-01 09:00:00', '2024-06-01 10:30:00', 'synthese', 90, 28, '2024-05-21 12:45:22', '2024-05-21 12:45:22'),
    (118, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-21 17:37:56', '2024-05-21 17:37:56'),
    (119, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-21 17:37:56', '2024-05-21 17:37:56'),
    (121, 'Exam Title', '2024-05-22 09:00:00', '2024-05-22 10:30:00', 'synthese', 90, 23, '2024-05-21 22:02:18', '2024-05-21 22:02:18'),
    (122, 'Exam Title', '2024-05-22 09:00:00', '2024-05-22 10:30:00', 'synthese', 90, 24, '2024-05-21 22:02:18', '2024-05-21 22:02:18'),
    (123, 'Exam Title', '2024-05-22 09:00:00', '2024-05-22 10:30:00', 'synthese', 90, 25, '2024-05-21 22:02:18', '2024-05-21 22:02:18'),
    (124, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 26, '2024-05-21 22:03:42', '2024-05-21 22:03:42'),
    (125, 'agile', '2024-06-05 08:00:00', '2024-06-05 09:30:00', 'synthese', 90, 27, '2024-05-21 22:03:42', '2024-05-21 22:03:42'),
    (126, 'Test examen', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-21 22:03:42', '2024-05-21 22:03:42'),
    (127, 'Examen mis à jour', '2024-06-01 08:00:00', '2024-06-01 09:30:00', 'synthese', 90, 28, '2024-05-21 22:03:42', '2024-05-21 22:03:42');

    --
    -- Index pour les tables déchargées
    --

    --
    -- Index pour la table `classes`
    --
    ALTER TABLE `classes`
      ADD PRIMARY KEY (`id`);

    --
    -- Index pour la table `departements`
    --
    ALTER TABLE `departements`
      ADD PRIMARY KEY (`id`);

    --
    -- Index pour la table `examens`
    --
    ALTER TABLE `examens`
      ADD PRIMARY KEY (`id`);

    --
    -- AUTO_INCREMENT pour les tables déchargées
    --

    --
    -- AUTO_INCREMENT pour la table `classes`
    --
    ALTER TABLE `classes`
      MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=30;

    --
    -- AUTO_INCREMENT pour la table `departements`
    --
    ALTER TABLE `departements`
      MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

    --
    -- AUTO_INCREMENT pour la table `examens`
    --
    ALTER TABLE `examens`
      MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=43;

    --
    -- Contraintes pour les tables déchargées
    --

    --
    -- Contraintes pour la table `classes`
    --
    ALTER TABLE `classes`
      ADD CONSTRAINT `classes_ibfk_1` FOREIGN KEY (`departementId`) REFERENCES `departements` (`id`);

    --
    -- Contraintes pour la table `examens`
    --
    ALTER TABLE `examens`
      ADD CONSTRAINT `examens_ibfk_1` FOREIGN KEY (`id_classe`) REFERENCES `classes` (`id`);
    COMMIT;
